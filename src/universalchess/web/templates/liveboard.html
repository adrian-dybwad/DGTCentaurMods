{# Live board component - displays current board state with real-time updates via SSE #}

{% include 'chessboard_component.html' %}

<script>
// Single-path game state updates: game_client.js owns SSE and dispatches gameStateUpdate.
window.addEventListener('load', function() {
    if (window.gameClient && typeof window.gameClient.start === 'function') {
        window.gameClient.start({ boardId: 'board1', pgnTextareaId: 'lastpgn' });
    }
});

// Clean up on page unload
window.addEventListener('beforeunload', function() {
    if (window.gameClient && typeof window.gameClient.stop === 'function') {
        window.gameClient.stop();
    }
});
</script>
