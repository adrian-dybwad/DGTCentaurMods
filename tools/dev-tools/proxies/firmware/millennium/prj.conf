# Millennium BLE Proxy - Zephyr Configuration
# Target: nRF52840 USB Dongle

# Enable logging
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3

# Bluetooth configuration
CONFIG_BT=y
CONFIG_BT_LOG_LEVEL_INF=y

# Central role (to connect to real Millennium board)
CONFIG_BT_CENTRAL=y
CONFIG_BT_GATT_CLIENT=y

# Peripheral role (to accept connections from chess app)
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_GATT_DYNAMIC_DB=y

# Allow simultaneous central + peripheral
CONFIG_BT_MAX_CONN=2

# Increase buffer sizes for BLE data
CONFIG_BT_L2CAP_TX_MTU=247
CONFIG_BT_BUF_ACL_RX_SIZE=251
CONFIG_BT_BUF_ACL_TX_SIZE=251

# GATT configuration
CONFIG_BT_GATT_CACHING=n

# Device name (appears to chess app)
CONFIG_BT_DEVICE_NAME="MILLENNIUM CHESS"
CONFIG_BT_DEVICE_NAME_DYNAMIC=y

# USB CDC ACM - use NEW stack only
CONFIG_USB_DEVICE_STACK_NEXT=y
CONFIG_USBD_CDC_ACM_CLASS=y

# Console over USB CDC
CONFIG_CONSOLE=y
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_LINE_CTRL=y

# System configuration
CONFIG_HEAP_MEM_POOL_SIZE=4096
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Enable GPIO for LED status
CONFIG_GPIO=y

# Timing
CONFIG_SYS_CLOCK_TICKS_PER_SEC=1000

# C library
CONFIG_PICOLIBC=y

